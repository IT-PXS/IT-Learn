---
title: MySQL（3-事务和日志）
tags: MySQL
categories: 数据库
cover: /img/index/mysql.png
top_img: /img/index/mysql.png
published: false
abbrlink: 63240
date: 2024-11-22 22:38:34
description:
---

使用时必须首先创建一个想使用的类对象，然后将该对象作为参数传递进去，调用该对象调用不同的算法

```java
//抽象策略类
public interface Strategy {
    public void strategyMethod();//策略方法
}

public class ConcreteStrategyA implements Strategy{
    @Override
    public void strategyMethod() {
        System.out.println("策略A");
    }
}

public class ConcreteStrategyB implements Strategy{
    @Override
    public void strategyMethod() {
        System.out.println("策略B");
    }
}
```

```java
public class Context {
    private Strategy strategy;

    public Strategy getStrategy(){
        return strategy;
    }

    public void setStrategy(Strategy strategy){
        this.strategy=strategy;
    }

    public void strategyMethod(){
        strategy.strategyMethod();
    }
}
```

```java
public class Demo {
    public static void main(String[] args) {
        Context context=new Context();
        Strategy strategy=new ConcreteStrategyA();
        context.setStrategy(strategy);
        context.strategyMethod();

        strategy=new ConcreteStrategyB();
        context.setStrategy(strategy);
        context.strategyMethod();
    }
}
```

在简单工厂模式中实现了通过条件选取一个类实例化对象，策略模式则将选取相应对象的工作交给模式的使用者，它本身不去做选取工作

策略模式与状态模式的区别：

1. 状态模式重点在各状态之间的切换，从而做不同的事情；而策略模式更侧重于根据具体情况选择策略，并不涉及切换
2. 状态模式不同状态下做的事情不同，而策略模式做的都是同一件事。例如，聚合支付平台，有支付宝、微信支付、银联支付，虽然策略不同，但最终做的事情都是支付，也就是说它们之间是可替换的。而状态模式，各个状态的同一方法做的是不同的事，不能互相替换